--------------------------------------------------------
--  File created - Çarþamba-Þubat-01-2023   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence BOOKING_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "GARANTI"."BOOKING_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SALE_LOG_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "GARANTI"."SALE_LOG_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SALE_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "GARANTI"."SALE_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 6 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table BOOKING
--------------------------------------------------------

  CREATE TABLE "GARANTI"."BOOKING" 
   (	"B_ID" NUMBER, 
	"NOTE" VARCHAR2(300 BYTE), 
	"USER_ID" NUMBER, 
	"SERVICE_ID" NUMBER, 
	"IS_DONE" CHAR(1 BYTE), 
	"BOOKING_DATE" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table PRODUCT
--------------------------------------------------------

  CREATE TABLE "GARANTI"."PRODUCT" 
   (	"PRODUCT_ID" NUMBER, 
	"NAME" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table PROPOSAL
--------------------------------------------------------

  CREATE TABLE "GARANTI"."PROPOSAL" 
   (	"PRP_ID" NUMBER, 
	"PRICE" NUMBER, 
	"NOTE" VARCHAR2(300 BYTE), 
	"PRODUCT_ID" NUMBER, 
	"USER_ID" NUMBER, 
	"APPROVAL" CHAR(1 BYTE), 
	"PRP_DATE" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table ROLE
--------------------------------------------------------

  CREATE TABLE "GARANTI"."ROLE" 
   (	"NAME" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table SALE
--------------------------------------------------------

  CREATE TABLE "GARANTI"."SALE" 
   (	"SALE_ID" NUMBER, 
	"PRICE" NUMBER, 
	"NOTE" VARCHAR2(300 BYTE), 
	"PRODUCT_ID" NUMBER, 
	"IS_SOLD" CHAR(1 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table SALE_LOG
--------------------------------------------------------

  CREATE TABLE "GARANTI"."SALE_LOG" 
   (	"SALE_LOG_ID" NUMBER, 
	"USER_ID" NUMBER, 
	"SALE_ID" NUMBER, 
	"INFO" VARCHAR2(50 BYTE), 
	"SALE_LOG_DATE" TIMESTAMP (6), 
	"CREDIT_CARD" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table SERVICE
--------------------------------------------------------

  CREATE TABLE "GARANTI"."SERVICE" 
   (	"SERVICE_ID" NUMBER, 
	"SERVICE_NAME" VARCHAR2(300 BYTE), 
	"DESKTOP" NUMBER, 
	"LAPTOP" NUMBER, 
	"MAC" NUMBER, 
	"DURATION" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table USER_ROLES
--------------------------------------------------------

  CREATE TABLE "GARANTI"."USER_ROLES" 
   (	"ROLE" VARCHAR2(50 BYTE), 
	"USER_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "GARANTI"."USERS" 
   (	"USER_ID" NUMBER, 
	"USERNAME" VARCHAR2(50 BYTE), 
	"PASSWORD" VARCHAR2(200 BYTE), 
	"USER_EMAIL" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
REM INSERTING into GARANTI.BOOKING
SET DEFINE OFF;
REM INSERTING into GARANTI.PRODUCT
SET DEFINE OFF;
Insert into GARANTI.PRODUCT (PRODUCT_ID,NAME) values ('1','Ýþlemci');
Insert into GARANTI.PRODUCT (PRODUCT_ID,NAME) values ('2','Ekran Kartý');
Insert into GARANTI.PRODUCT (PRODUCT_ID,NAME) values ('3','Ram');
Insert into GARANTI.PRODUCT (PRODUCT_ID,NAME) values ('4','Anakart');
REM INSERTING into GARANTI.PROPOSAL
SET DEFINE OFF;
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('1','2500','Doktordan satýlýk, dosta gider, sýfýr çizik sýfýr hata.','1','2','1',to_timestamp('31/01/2023 18:13:14,000000000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('5','3400','Test için oluþturdum','3','3','0',to_timestamp('31/01/2023 21:42:54,450000000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('9','3650','swagger üzerinden user id göndermeden kayýt oluþturuyorum.','4','3','0',to_timestamp('31/01/2023 22:32:29,580996000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('13','1234','Test verisi ekliyorum. 2','2','2','2',to_timestamp('01/02/2023 10:58:04,914603000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('10','1110','Deneme bir not girelim','2','3','2',to_timestamp('31/01/2023 23:26:44,568347000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('14','1234','Test verisi ekliyorum. 3','2','2','2',to_timestamp('01/02/2023 10:59:18,198514000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('12','10000','Test verisi ekliyorum.','3','2','2',to_timestamp('01/02/2023 10:46:43,936020000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('15','1234','Test verisi ekliyorum. 3','2','2','2',to_timestamp('01/02/2023 10:59:36,537802000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('16','1234','Test verisi ekliyorum. 3','2','2','2',to_timestamp('01/02/2023 11:02:43,859840000','DD/MM/RRRR HH24:MI:SSXFF'));
Insert into GARANTI.PROPOSAL (PRP_ID,PRICE,NOTE,PRODUCT_ID,USER_ID,APPROVAL,PRP_DATE) values ('17','1234','Test verisi ekliyorum. 4','2','2','2',to_timestamp('01/02/2023 11:08:38,482160000','DD/MM/RRRR HH24:MI:SSXFF'));
REM INSERTING into GARANTI.ROLE
SET DEFINE OFF;
Insert into GARANTI.ROLE (NAME) values ('ROLE_ADMIN');
Insert into GARANTI.ROLE (NAME) values ('ROLE_USER');
REM INSERTING into GARANTI.SALE
SET DEFINE OFF;
Insert into GARANTI.SALE (SALE_ID,PRICE,NOTE,PRODUCT_ID,IS_SOLD) values ('1','2500','Doktordan az kullanýlmýþ taze parça','1','0');
Insert into GARANTI.SALE (SALE_ID,PRICE,NOTE,PRODUCT_ID,IS_SOLD) values ('2','3250','Öðretmenden dosta gider parçam var...','2','0');
Insert into GARANTI.SALE (SALE_ID,PRICE,NOTE,PRODUCT_ID,IS_SOLD) values ('3','4500','Son fiyattýr rahatsýz etmeyin','3','1');
Insert into GARANTI.SALE (SALE_ID,PRICE,NOTE,PRODUCT_ID,IS_SOLD) values ('4','3750','Denemek için ekliyorum','4','0');
Insert into GARANTI.SALE (SALE_ID,PRICE,NOTE,PRODUCT_ID,IS_SOLD) values ('5','45000','test verisi','2','0');
REM INSERTING into GARANTI.SALE_LOG
SET DEFINE OFF;
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('1','3','1','Doktordan az kullanýlmýþ taze parça',to_timestamp('01/02/2023 01:53:39,814251000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001234');
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('2','3','2','Öðretmenden dosta gider parçam var...',to_timestamp('01/02/2023 02:09:18,920876000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001234');
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('3','3','2','Öðretmenden dosta gider parçam var...',to_timestamp('01/02/2023 03:58:24,939484000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001234');
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('4','2','3','Son fiyattýr rahatsýz etmeyin',to_timestamp('01/02/2023 09:27:56,608176000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001234');
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('5','2','3','Son fiyattýr rahatsýz etmeyin',to_timestamp('01/02/2023 09:29:48,617848000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001234');
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('6','2','1','Doktordan az kullanýlmýþ taze parça',to_timestamp('01/02/2023 09:35:27,198588000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001234');
Insert into GARANTI.SALE_LOG (SALE_LOG_ID,USER_ID,SALE_ID,INFO,SALE_LOG_DATE,CREDIT_CARD) values ('7','2','3','Son fiyattýr rahatsýz etmeyin',to_timestamp('01/02/2023 10:18:34,651183000','DD/MM/RRRR HH24:MI:SSXFF'),'1234567800001212');
REM INSERTING into GARANTI.SERVICE
SET DEFINE OFF;
Insert into GARANTI.SERVICE (SERVICE_ID,SERVICE_NAME,DESKTOP,LAPTOP,MAC,DURATION) values ('1','Formatlama','50','50','200','2');
Insert into GARANTI.SERVICE (SERVICE_ID,SERVICE_NAME,DESKTOP,LAPTOP,MAC,DURATION) values ('2','Virüs Temizliði','100','100','100','4');
Insert into GARANTI.SERVICE (SERVICE_ID,SERVICE_NAME,DESKTOP,LAPTOP,MAC,DURATION) values ('3','Diskten Veri kurtarma','200','200','400','10');
Insert into GARANTI.SERVICE (SERVICE_ID,SERVICE_NAME,DESKTOP,LAPTOP,MAC,DURATION) values ('4','Fan ve Termal macun temizliði','30','100','200','1');
REM INSERTING into GARANTI.USER_ROLES
SET DEFINE OFF;
Insert into GARANTI.USER_ROLES (ROLE,USER_ID) values ('ROLE_ADMIN','1');
Insert into GARANTI.USER_ROLES (ROLE,USER_ID) values ('ROLE_USER','2');
Insert into GARANTI.USER_ROLES (ROLE,USER_ID) values ('ROLE_USER','3');
REM INSERTING into GARANTI.USERS
SET DEFINE OFF;
Insert into GARANTI.USERS (USER_ID,USERNAME,PASSWORD,USER_EMAIL) values ('1','admin','$2a$10$V2UuPZLY7Pzu6ihGbA0Yc.lCHmZ7KCr0Ahdm5IPcYkES/HO0bD1NO','bilge@gmail.com');
Insert into GARANTI.USERS (USER_ID,USERNAME,PASSWORD,USER_EMAIL) values ('2','user','$2a$10$WDtUVEjZuuQ7YNOfweEOu.5BxWq/yRH/LIyU9jv0g.TYjP8DfiMfC','huseyinb@gmail.com');
Insert into GARANTI.USERS (USER_ID,USERNAME,PASSWORD,USER_EMAIL) values ('3','test','$2a$10$WDtUVEjZuuQ7YNOfweEOu.5BxWq/yRH/LIyU9jv0g.TYjP8DfiMfC','test@gmail.com');
--------------------------------------------------------
--  DDL for Index USERS_PK1
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."USERS_PK1" ON "GARANTI"."USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index USERS_UK1
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."USERS_UK1" ON "GARANTI"."USERS" ("USERNAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index PROPOSAL_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."PROPOSAL_PK" ON "GARANTI"."PROPOSAL" ("PRP_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index BOOKING_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."BOOKING_PK" ON "GARANTI"."BOOKING" ("B_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SERVICE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."SERVICE_PK" ON "GARANTI"."SERVICE" ("SERVICE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index ROLE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."ROLE_PK" ON "GARANTI"."ROLE" ("NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SALE_LOG_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."SALE_LOG_PK" ON "GARANTI"."SALE_LOG" ("SALE_LOG_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SALE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."SALE_PK" ON "GARANTI"."SALE" ("SALE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index PRODUCT_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "GARANTI"."PRODUCT_PK" ON "GARANTI"."PRODUCT" ("PRODUCT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Trigger BOOKING_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GARANTI"."BOOKING_TRG" 
BEFORE INSERT ON BOOKING 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.B_ID IS NULL THEN
      SELECT BOOKING_SEQ.NEXTVAL INTO :NEW.B_ID FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "GARANTI"."BOOKING_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger SALE_LOG_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GARANTI"."SALE_LOG_TRG" 
BEFORE INSERT ON SALE_LOG 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.SALE_LOG_ID IS NULL THEN
      SELECT SALE_LOG_SEQ.NEXTVAL INTO :NEW.SALE_LOG_ID FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "GARANTI"."SALE_LOG_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger SALE_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GARANTI"."SALE_TRG" 
BEFORE INSERT ON SALE 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.SALE_ID IS NULL THEN
      SELECT SALE_SEQ.NEXTVAL INTO :NEW.SALE_ID FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "GARANTI"."SALE_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table PRODUCT
--------------------------------------------------------

  ALTER TABLE "GARANTI"."PRODUCT" MODIFY ("PRODUCT_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PRODUCT" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PRODUCT" ADD CONSTRAINT "PRODUCT_PK" PRIMARY KEY ("PRODUCT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROLE
--------------------------------------------------------

  ALTER TABLE "GARANTI"."ROLE" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."ROLE" ADD CONSTRAINT "ROLE_PK" PRIMARY KEY ("NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "GARANTI"."USERS" ADD CONSTRAINT "USERS_UK1" UNIQUE ("USERNAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."USERS" ADD CONSTRAINT "USERS_PK" PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."USERS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."USERS" MODIFY ("USER_EMAIL" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."USERS" MODIFY ("USERNAME" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."USERS" MODIFY ("PASSWORD" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PROPOSAL
--------------------------------------------------------

  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("PRP_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("PRICE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("NOTE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("PRODUCT_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PROPOSAL" ADD CONSTRAINT "PROPOSAL_PK" PRIMARY KEY ("PRP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("APPROVAL" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."PROPOSAL" MODIFY ("PRP_DATE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table USER_ROLES
--------------------------------------------------------

  ALTER TABLE "GARANTI"."USER_ROLES" MODIFY ("ROLE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."USER_ROLES" MODIFY ("USER_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SALE
--------------------------------------------------------

  ALTER TABLE "GARANTI"."SALE" MODIFY ("SALE_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE" MODIFY ("PRICE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE" MODIFY ("NOTE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE" MODIFY ("PRODUCT_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE" ADD CONSTRAINT "SALE_PK" PRIMARY KEY ("SALE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."SALE" MODIFY ("IS_SOLD" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table BOOKING
--------------------------------------------------------

  ALTER TABLE "GARANTI"."BOOKING" MODIFY ("IS_DONE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."BOOKING" MODIFY ("B_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."BOOKING" MODIFY ("NOTE" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."BOOKING" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."BOOKING" ADD CONSTRAINT "BOOKING_PK" PRIMARY KEY ("B_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."BOOKING" MODIFY ("SERVICE_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."BOOKING" MODIFY ("BOOKING_DATE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SERVICE
--------------------------------------------------------

  ALTER TABLE "GARANTI"."SERVICE" MODIFY ("SERVICE_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SERVICE" MODIFY ("SERVICE_NAME" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SERVICE" MODIFY ("DESKTOP" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SERVICE" ADD CONSTRAINT "SERVICE_PK" PRIMARY KEY ("SERVICE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."SERVICE" MODIFY ("LAPTOP" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SERVICE" MODIFY ("MAC" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SERVICE" MODIFY ("DURATION" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SALE_LOG
--------------------------------------------------------

  ALTER TABLE "GARANTI"."SALE_LOG" MODIFY ("SALE_LOG_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE_LOG" MODIFY ("CREDIT_CARD" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE_LOG" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE_LOG" MODIFY ("SALE_ID" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE_LOG" ADD CONSTRAINT "SALE_LOG_PK" PRIMARY KEY ("SALE_LOG_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "GARANTI"."SALE_LOG" MODIFY ("INFO" NOT NULL ENABLE);
  ALTER TABLE "GARANTI"."SALE_LOG" MODIFY ("SALE_LOG_DATE" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table BOOKING
--------------------------------------------------------

  ALTER TABLE "GARANTI"."BOOKING" ADD CONSTRAINT "BOOKING_SERVICE_ID_FK" FOREIGN KEY ("SERVICE_ID")
	  REFERENCES "GARANTI"."SERVICE" ("SERVICE_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "GARANTI"."BOOKING" ADD CONSTRAINT "BOOKING_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "GARANTI"."USERS" ("USER_ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROPOSAL
--------------------------------------------------------

  ALTER TABLE "GARANTI"."PROPOSAL" ADD CONSTRAINT "PROPOSAL_PRODUCT_ID_FK" FOREIGN KEY ("PRODUCT_ID")
	  REFERENCES "GARANTI"."PRODUCT" ("PRODUCT_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "GARANTI"."PROPOSAL" ADD CONSTRAINT "PROPOSAL_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "GARANTI"."USERS" ("USER_ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SALE
--------------------------------------------------------

  ALTER TABLE "GARANTI"."SALE" ADD CONSTRAINT "SALE_PRODUCT_ID_FK" FOREIGN KEY ("PRODUCT_ID")
	  REFERENCES "GARANTI"."PRODUCT" ("PRODUCT_ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SALE_LOG
--------------------------------------------------------

  ALTER TABLE "GARANTI"."SALE_LOG" ADD CONSTRAINT "SALE_LOG_SALE_ID_FK" FOREIGN KEY ("SALE_ID")
	  REFERENCES "GARANTI"."SALE" ("SALE_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "GARANTI"."SALE_LOG" ADD CONSTRAINT "SALE_LOG_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "GARANTI"."USERS" ("USER_ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table USER_ROLES
--------------------------------------------------------

  ALTER TABLE "GARANTI"."USER_ROLES" ADD CONSTRAINT "USER_ROLE_FK" FOREIGN KEY ("ROLE")
	  REFERENCES "GARANTI"."ROLE" ("NAME") ON DELETE CASCADE ENABLE;
  ALTER TABLE "GARANTI"."USER_ROLES" ADD CONSTRAINT "USER_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "GARANTI"."USERS" ("USER_ID") ON DELETE CASCADE ENABLE;
